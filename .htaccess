<IfModule mod_rewrite.c>
RewriteEngine On

# 1. Forzar la versión canónica (HTTPS y www)
# Redirige todo el tráfico a https://www.runik.studio
RewriteCond %{HTTPS} off [OR]
RewriteCond %{HTTP_HOST} !^www\.runik\.studio$ [NC]
RewriteRule ^(.*)$ https://www.runik.studio/$1 [L,R=301]

# 2. Redirigir index.html a la raíz /
RewriteRule ^index\.html$ / [R=301,L]

# 3. Redirección 301: Quitar .html de la URL (para el navegador)
# Esto redirige /pagina.html a /pagina
RewriteCond %{THE_REQUEST} \s/+(.+?)\.html[\s?] [NC]
RewriteRule ^ %1 [R=301,L]

# 4. Reescritura interna: Servir el .html (para el servidor)
# Esto hace que /pagina cargue el contenido de /pagina.html sin que el usuario lo vea
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME}\.html -f
RewriteRule ^(.*?)/?$ $1.html [L]

</IfModule>
